{"ast":null,"code":"var _jsxFileName = \"/Users/erick/eth/progpay/client/src/DissolveFunctions.js\";\nimport React from \"react\";\n\nclass DissolveFunctions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mediatorAddress: null\n    };\n    this.handleToggleDissolveStatus = this.handleToggleDissolveStatus.bind(this);\n    this.handleDissolveContract = this.handleDissolveContract.bind(this);\n    this.handleSetMediatorAddress = this.handleSetMediatorAddress.bind(this);\n    this.handleForceDissolveContract = this.handleForceDissolveContract.bind(this);\n    this.handleForceDissolveContract2 = this.handleForceDissolveContract2.bind(this);\n    this.handleResetDissolveContractTimer = this.handleResetDissolveContractTimer.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      drizzle\n    } = this.props;\n    const contract = drizzle.contracts[this.props.contractId];\n    const payerDissolveIndex = contract.methods['payerWantsOut'].cacheCall();\n    const payeeDissolveIndex = contract.methods['payeeWantsOut'].cacheCall();\n    const timeRemainingIndex = contract.methods['timeRemaining'].cacheCall();\n    const forceDissolveStartTimeIndex = contract.methods['forceDissolveStartTime'].cacheCall();\n    const forceDissolveDelayIndex = contract.methods['forceDissolveDelay'].cacheCall();\n    const payerMediatorAddressIndex = contract.methods['payerMediatorAddress'].cacheCall();\n    const payeeMediatorAddressIndex = contract.methods['payeeMediatorAddress'].cacheCall();\n    const nextPaymentRequestedIndex = contract.methods['paymentNumberToRequested'].cacheCall(this.props.nextPayment);\n    this.setState({\n      payerDissolveIndex,\n      payeeDissolveIndex,\n      timeRemainingIndex,\n      forceDissolveStartTimeIndex,\n      forceDissolveDelayIndex,\n      payerMediatorAddressIndex,\n      payeeMediatorAddressIndex,\n      nextPaymentRequestedIndex\n    });\n  }\n\n  handleToggleDissolveStatus() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdToggleDis = contract.methods['toggleAgreeToDissolve'].cacheSend({\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdToggleDis\n    });\n  }\n\n  getStatusToggleDis() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdToggleDis]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  handleSetMediatorAddress() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdSetMediator = contract.methods['setMediatorAddress'].cacheSend(this.state.mediatorAddress, {\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdSetMediator\n    });\n  }\n\n  getStatusSetMediator() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdSetMediator]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  handleChangeMediatorAddressInput(event) {\n    this.setState({\n      mediatorAddress: event.target.value\n    });\n    console.log(this.state.mediatorAddress);\n  }\n\n  handleDissolveContract() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdDissolve = contract.methods['dissolve'].cacheSend({\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdDissolve\n    });\n  }\n\n  getStatusDissolve() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdDissolve]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  handleForceDissolveContract() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdForceDissolve = contract.methods['forceDissolve'].cacheSend({\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdForceDissolve\n    });\n  }\n\n  getStatusForceDissolve() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdForceDissolve]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  } //using same contract call with different event handlers to receive different status for each\n\n\n  handleForceDissolveContract2() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdForceDissolve2 = contract.methods['forceDissolve'].cacheSend({\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdForceDissolve2\n    });\n  }\n\n  getStatusForceDissolve2() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdForceDissolve2]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  handleResetDissolveContractTimer() {\n    const {\n      drizzleState\n    } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdresetForceDissolve = contract.methods['resetForceDissolve'].cacheSend({\n      from: drizzleState.accounts[0],\n      value: 0\n    });\n    this.setState({\n      stackIdresetForceDissolve\n    });\n  }\n\n  getStatusDissolveResetTimer() {\n    const {\n      transactions,\n      transactionStack\n    } = this.props.drizzleState; // get the transaction hash using our saved `stackId`\n\n    const txHash = transactionStack[this.state.stackIdresetForceDissolve]; // if transaction hash does not exist, don't display anything\n\n    if (!txHash) return null;\n\n    if (transactions[txHash]) {\n      console.log(transactions[txHash].status);\n      return transactions[txHash].status;\n    }\n  }\n\n  render() {\n    const contract = this.props.drizzleState.contracts[this.props.contractId];\n    const payerDissolve = contract.payerWantsOut[this.state.payerDissolveIndex];\n    const payeeDissolve = contract.payeeWantsOut[this.state.payeeDissolveIndex];\n    const forceDissolveStartTime = contract.forceDissolveStartTime[this.state.forceDissolveStartTimeIndex];\n    const forceDissolveDelay = contract.forceDissolveDelay[this.state.forceDissolveDelayIndex];\n    const payerMediatorAddress = contract.payerMediatorAddress[this.state.payerMediatorAddressIndex];\n    const payeeMediatorAddress = contract.payeeMediatorAddress[this.state.payeeMediatorAddressIndex];\n    const nextPaymentRequested = contract.paymentNumberToRequested[this.state.nextPaymentRequestedIndex];\n    let mediatorAddressesMatchButNot0x0;\n\n    if (payerMediatorAddress && payeeMediatorAddress) {\n      mediatorAddressesMatchButNot0x0 = payerMediatorAddress.value === payeeMediatorAddress.value && payerMediatorAddress.value !== \"0x0000000000000000000000000000000000000000\" && payeeMediatorAddress.value !== \"0x0000000000000000000000000000000000000000\";\n      console.log(\"MatchButNot0x0 \" + mediatorAddressesMatchButNot0x0);\n    }\n\n    let payerMediatorSentence = payerMediatorAddress && \" You've set your mediator address to \" + payerMediatorAddress.value + \". \";\n    let payeeMediatorSentence = payeeMediatorAddress && \" You've set your mediator address to \" + payeeMediatorAddress.value + \". \";\n    console.log(payerMediatorAddress && \"PrMA \" + payerMediatorAddress.value);\n    console.log(payeeMediatorAddress && \"PeMA \" + payeeMediatorAddress.value);\n    let timerExpiresDate;\n\n    if (forceDissolveStartTime && forceDissolveDelay) {\n      console.log(\"Start \" + forceDissolveStartTime.value);\n      console.log(\"Delay \" + forceDissolveDelay.value);\n      let timerExpires = Number(forceDissolveStartTime.value) + Number(forceDissolveDelay.value);\n      console.log(\"total \" + timerExpires);\n      timerExpiresDate = new Date(timerExpires * 1000).toString();\n      console.log(\"exp \" + timerExpiresDate);\n    }\n\n    let isPayer;\n    let isPayee;\n    const payee = contract.payee[this.props.indexes.payeeIndex];\n    const payer = contract.payer[this.props.indexes.payerIndex];\n    const timeRemaining = contract.timeRemaining[this.state.timeRemainingIndex];\n\n    if (payer || payee) {\n      isPayer = this.props.drizzleState.accounts[0] === payer.value;\n      isPayee = this.props.drizzleState.accounts[0] === payee.value;\n      console.log(isPayer ? \"Payer\" : isPayee ? \"Payee\" : \"Neither Payer or Payee\");\n    }\n\n    console.log(timeRemaining && \"Time remaining: \" + timeRemaining.value);\n    let statusToggleDis = this.getStatusToggleDis();\n    let statusDissolve = this.getStatusDissolve();\n    let statusSetMediator = this.getStatusSetMediator();\n    let statusForceDissolve = this.getStatusForceDissolve();\n    let statusForceDissolve2 = this.getStatusForceDissolve2();\n    let statusDissolveResetTimer = this.getStatusDissolveResetTimer();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 7\n      }\n    }, \"Contract Dissolution\"), payer && isPayer === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }\n    }, \"You indicate that you \", payerDissolve && payerDissolve.value === true ? \"want\" : \"do not want\", \" to dissolve. Click \\\"switch\\\" to change your position.  \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: this.handleToggleDissolveStatus,\n      disabled: statusToggleDis === \"pending\" ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 155\n      }\n    }, !statusToggleDis ? 'Switch' : statusToggleDis === \"success\" ? 'Switch' : statusToggleDis)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }\n    }, \"Payee \", payeeDissolve && payeeDissolve.value === true ? \"has moved\" : \"has not moved\", \" to dissolve.\")), payee && isPayee === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }\n    }, \"You indicate that you \", payeeDissolve && payeeDissolve.value === true ? \"want\" : \"do not want\", \" to dissolve. Click \\\"switch\\\" to change your position.  \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: this.handleToggleDissolveStatus,\n      disabled: statusToggleDis === \"pending\" ? true : nextPaymentRequested && nextPaymentRequested.value === true && payerDissolve && payerDissolve.value === false ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 155\n      }\n    }, !statusToggleDis ? 'Switch' : statusToggleDis === \"success\" ? 'Success! Switch Again' : statusToggleDis)), nextPaymentRequested && nextPaymentRequested.value === true && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }, \"Note: You cannot move to dissolve if you've already requested the next payment unless the payer has indicated they want to dissolve first.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }\n    }, \"Payer \", payerDissolve && payerDissolve.value === true ? \"has moved\" : \"has not moved\", \" to dissolve.\")), timeRemaining && timeRemaining.value > 0 && payerDissolve && payerDissolve.value === false && payeeDissolve && payeeDissolve.value === false && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: this.handleResetDissolveContractTimer,\n      disabled: statusDissolveResetTimer === \"pending\" ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }\n    }, !statusDissolveResetTimer ? 'Disarm Timer' : statusDissolveResetTimer === \"success\" ? 'Success! Timer Disarmed' : statusDissolveResetTimer), payerDissolve && payerDissolve.value === true && payeeDissolve && payeeDissolve.value === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }\n    }, \"Both parties have indicated that they want to dissolve this contract \", nextPaymentRequested && nextPaymentRequested.value === true ? \"and the next payment has been requested\" : \"\", \". Clicking \\\"Dissolve\\\" will immediately \", nextPaymentRequested && nextPaymentRequested.value === true ? \"transfer the next payment to the payee and the remaining funds to the payer\" : \"return all remaining funds in the contract to the payer\", \" and this contract will terminate.\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn shadow-lg btn-danger btn-sm btn-block\",\n      onClick: this.handleDissolveContract,\n      disabled: statusDissolve === \"pending\" ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }\n    }, !statusDissolve ? 'Force Dissolve' : statusDissolve === \"success\" ? 'Success! Contract Dissolved' : statusDissolve)), (payerDissolve && payerDissolve.value === true || payeeDissolve && payeeDissolve.value === true) && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }\n    }, \"When only one party wants to dissolve the contract there are three possible courses of action:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }\n    }, \"Convince other party to agree to dissolve the contract.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }\n    }, \"Trigger a cool down timer of \", forceDissolveDelay && Number(forceDissolveDelay.value / 60 / 60 / 24).toFixed(0), \" days after which either party can force the dissolution of the contract. If the contract is dissolved using this method the next payment will be split between both parties and the remaining funds transferred to the payer.\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-danger\",\n      onClick: this.handleForceDissolveContract,\n      disabled: statusForceDissolve === \"pending\" ? true : timeRemaining && timeRemaining.value > 0 ? true : nextPaymentRequested && nextPaymentRequested.value === true ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }\n    }, !statusForceDissolve ? 'Force Dissolve by Timer' : statusForceDissolve === \"success\" ? 'Success! Timer Started' : statusForceDissolve)), nextPaymentRequested && nextPaymentRequested.value === true && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }\n    }, \"Note: You cannot force dissolve if you've already requested the next payment.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }, \"***The timer can be disabled, even after expiration, if both payer and payee indicate that they want to dissolve the contract.\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }\n    }, \"Agree to and set a mediator that will receive all remaining contract funds and manage their distribution outside of this contract.\", payer && isPayer === true && (payerMediatorAddress && payerMediatorAddress.value === \"0x0000000000000000000000000000000000000000\" ? \" You have not set a mediator address. \" : /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 153\n      }\n    }, payerMediatorSentence)), payer && isPayee === true && (payeeMediatorAddress && payeeMediatorAddress.value === \"0x0000000000000000000000000000000000000000\" ? \" You have not set a mediator address. \" : /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 155\n      }\n    }, payeeMediatorSentence)), \"If both parties have designated the same mediator address a button allowing either party to force dissolve the contract to a mediator will appear below.\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"0x.....\",\n      className: \"form-control\",\n      \"aria-label\": \"Contact Method\",\n      \"aria-describedby\": \"contact-method\",\n      onChange: this.handleChangeMediatorAddressInput.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-warning\",\n      onClick: this.handleSetMediatorAddress,\n      disabled: statusSetMediator === \"pending\" ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 15\n      }\n    }, !statusSetMediator ? 'Set New Mediator Address' : statusSetMediator === \"success\" ? 'Success!' : statusSetMediator), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    }), mediatorAddressesMatchButNot0x0 && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-warning\",\n      onClick: this.handleForceDissolveContract2,\n      disabled: statusForceDissolve2 === \"pending\" ? true : !mediatorAddressesMatchButNot0x0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 17\n      }\n    }, !statusForceDissolve2 && !mediatorAddressesMatchButNot0x0 ? 'Cannot Dissolve Mediator Addresses Must Match' : !statusForceDissolve2 && mediatorAddressesMatchButNot0x0 ? 'Force Dissolve to Mediator' : statusForceDissolve2 === \"success\" ? 'Success! Contract Dissolved' : statusForceDissolve2))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }\n    }, \"Any of the three above options will immediately terminate the contract and transfer all remaining funds to the designated recipient.\")), timeRemaining && timeRemaining.value > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, \"The timer to force dissolution of this contract has been triggered! This contract can be dissolved (even if only one party wants to dissolve it) after \", timerExpiresDate, \". Once the timer has expired either party can click the \\\"Force Dissolve\\\" button that will appear below to terminate the contract. This will split the last payment between the two parties and transfer remaining funds back to payer.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }\n    }, \"Note: Timer can be disarmed by clicking the \\\"Disarm Timer\\\" button above. \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 85\n      }\n    }, \"The button will ONLY appear if both parties indicate they \", /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 146\n      }\n    }, \"do not\"), \" want to dissolve.\")), timeRemaining && timeRemaining.value > 100000000000000 && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn shadow-lg btn-danger btn-sm btn-block\",\n      onClick: this.handleForceDissolveContract,\n      disabled: statusForceDissolve === \"pending\" ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }\n    }, !statusForceDissolve ? 'Force Dissolve' : statusForceDissolve === \"success\" ? 'Success! Contract Dissolved' : statusForceDissolve))));\n  }\n\n}\n\nexport default DissolveFunctions;","map":{"version":3,"sources":["/Users/erick/eth/progpay/client/src/DissolveFunctions.js"],"names":["React","DissolveFunctions","Component","constructor","props","state","mediatorAddress","handleToggleDissolveStatus","bind","handleDissolveContract","handleSetMediatorAddress","handleForceDissolveContract","handleForceDissolveContract2","handleResetDissolveContractTimer","componentDidMount","drizzle","contract","contracts","contractId","payerDissolveIndex","methods","cacheCall","payeeDissolveIndex","timeRemainingIndex","forceDissolveStartTimeIndex","forceDissolveDelayIndex","payerMediatorAddressIndex","payeeMediatorAddressIndex","nextPaymentRequestedIndex","nextPayment","setState","drizzleState","stackIdToggleDis","cacheSend","from","accounts","value","getStatusToggleDis","transactions","transactionStack","txHash","console","log","status","stackIdSetMediator","getStatusSetMediator","handleChangeMediatorAddressInput","event","target","stackIdDissolve","getStatusDissolve","stackIdForceDissolve","getStatusForceDissolve","stackIdForceDissolve2","getStatusForceDissolve2","stackIdresetForceDissolve","getStatusDissolveResetTimer","render","payerDissolve","payerWantsOut","payeeDissolve","payeeWantsOut","forceDissolveStartTime","forceDissolveDelay","payerMediatorAddress","payeeMediatorAddress","nextPaymentRequested","paymentNumberToRequested","mediatorAddressesMatchButNot0x0","payerMediatorSentence","payeeMediatorSentence","timerExpiresDate","timerExpires","Number","Date","toString","isPayer","isPayee","payee","indexes","payeeIndex","payer","payerIndex","timeRemaining","statusToggleDis","statusDissolve","statusSetMediator","statusForceDissolve","statusForceDissolve2","statusDissolveResetTimer","toFixed"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAN,SAAgCD,KAAK,CAACE,SAAtC,CAAgD;AAE9CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AAACC,MAAAA,eAAe,EAAC;AAAjB,KAAZ;AACA,SAAKC,0BAAL,GAAkC,KAAKA,0BAAL,CAAgCC,IAAhC,CAAqC,IAArC,CAAlC;AACA,SAAKC,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BD,IAA5B,CAAiC,IAAjC,CAA9B;AACA,SAAKE,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BF,IAA9B,CAAmC,IAAnC,CAAhC;AACA,SAAKG,2BAAL,GAAmC,KAAKA,2BAAL,CAAiCH,IAAjC,CAAsC,IAAtC,CAAnC;AACA,SAAKI,4BAAL,GAAoC,KAAKA,4BAAL,CAAkCJ,IAAlC,CAAuC,IAAvC,CAApC;AACA,SAAKK,gCAAL,GAAwC,KAAKA,gCAAL,CAAsCL,IAAtC,CAA2C,IAA3C,CAAxC;AAED;;AAGDM,EAAAA,iBAAiB,GAAG;AAEjB,UAAM;AAAEC,MAAAA;AAAF,QAAc,KAAKX,KAAzB;AACA,UAAMY,QAAQ,GAAGD,OAAO,CAACE,SAAR,CAAkB,KAAKb,KAAL,CAAWc,UAA7B,CAAjB;AAEA,UAAMC,kBAAkB,GAAGH,QAAQ,CAACI,OAAT,CAAiB,eAAjB,EAAkCC,SAAlC,EAA3B;AACA,UAAMC,kBAAkB,GAAGN,QAAQ,CAACI,OAAT,CAAiB,eAAjB,EAAkCC,SAAlC,EAA3B;AAEA,UAAME,kBAAkB,GAAGP,QAAQ,CAACI,OAAT,CAAiB,eAAjB,EAAkCC,SAAlC,EAA3B;AAEA,UAAMG,2BAA2B,GAAGR,QAAQ,CAACI,OAAT,CAAiB,wBAAjB,EAA2CC,SAA3C,EAApC;AACA,UAAMI,uBAAuB,GAAGT,QAAQ,CAACI,OAAT,CAAiB,oBAAjB,EAAuCC,SAAvC,EAAhC;AAEA,UAAMK,yBAAyB,GAAGV,QAAQ,CAACI,OAAT,CAAiB,sBAAjB,EAAyCC,SAAzC,EAAlC;AACA,UAAMM,yBAAyB,GAAGX,QAAQ,CAACI,OAAT,CAAiB,sBAAjB,EAAyCC,SAAzC,EAAlC;AAEA,UAAMO,yBAAyB,GAAGZ,QAAQ,CAACI,OAAT,CAAiB,0BAAjB,EAA6CC,SAA7C,CAAuD,KAAKjB,KAAL,CAAWyB,WAAlE,CAAlC;AAID,SAAKC,QAAL,CAAc;AAACX,MAAAA,kBAAD;AAAqBG,MAAAA,kBAArB;AAAyCC,MAAAA,kBAAzC;AAA6DC,MAAAA,2BAA7D;AAA0FC,MAAAA,uBAA1F;AAAmHC,MAAAA,yBAAnH;AAA8IC,MAAAA,yBAA9I;AAAyKC,MAAAA;AAAzK,KAAd;AACD;;AAEDrB,EAAAA,0BAA0B,GAAE;AAC1B,UAAM;AAAEwB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAMc,gBAAgB,GAAGhB,QAAQ,CAACI,OAAT,CAAiB,uBAAjB,EAA0Ca,SAA1C,CAAoD;AAACC,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAApD,CAAzB;AACA,SAAKN,QAAL,CAAc;AAAEE,MAAAA;AAAF,KAAd;AACD;;AAEDK,EAAAA,kBAAkB,GAAE;AAClB,UAAM;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CADkB,CAElB;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAW2B,gBAAZ,CAA/B,CAHkB,CAIlB;;AACA,QAAI,CAACQ,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD;;AAEDjC,EAAAA,wBAAwB,GAAE;AACxB,UAAM;AAAEqB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAM0B,kBAAkB,GAAG5B,QAAQ,CAACI,OAAT,CAAiB,oBAAjB,EAAuCa,SAAvC,CAAiD,KAAK5B,KAAL,CAAWC,eAA5D,EAA4E;AAAC4B,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAA5E,CAA3B;AACA,SAAKN,QAAL,CAAc;AAAEc,MAAAA;AAAF,KAAd;AACD;;AAEDC,EAAAA,oBAAoB,GAAE;AACpB,UAAM;AAAEP,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CADoB,CAEpB;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAWuC,kBAAZ,CAA/B,CAHoB,CAIpB;;AACA,QAAI,CAACJ,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD;;AAEDG,EAAAA,gCAAgC,CAACC,KAAD,EAAO;AACrC,SAAKjB,QAAL,CAAc;AAACxB,MAAAA,eAAe,EAACyC,KAAK,CAACC,MAAN,CAAaZ;AAA9B,KAAd;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrC,KAAL,CAAWC,eAAvB;AACD;;AAEDG,EAAAA,sBAAsB,GAAE;AACtB,UAAM;AAAEsB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAM+B,eAAe,GAAGjC,QAAQ,CAACI,OAAT,CAAiB,UAAjB,EAA6Ba,SAA7B,CAAuC;AAACC,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAAvC,CAAxB;AACA,SAAKN,QAAL,CAAc;AAAEmB,MAAAA;AAAF,KAAd;AACD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjB,UAAM;AAAEZ,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CADiB,CAEjB;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAW4C,eAAZ,CAA/B,CAHiB,CAIjB;;AACA,QAAI,CAACT,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD;;AAEDhC,EAAAA,2BAA2B,GAAE;AAC3B,UAAM;AAAEoB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAMiC,oBAAoB,GAAGnC,QAAQ,CAACI,OAAT,CAAiB,eAAjB,EAAkCa,SAAlC,CAA4C;AAACC,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAA5C,CAA7B;AACA,SAAKN,QAAL,CAAc;AAAEqB,MAAAA;AAAF,KAAd;AACD;;AAEDC,EAAAA,sBAAsB,GAAE;AACtB,UAAM;AAAEd,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CADsB,CAEtB;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAW8C,oBAAZ,CAA/B,CAHsB,CAItB;;AACA,QAAI,CAACX,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD,GAzH6C,CA2H9C;;;AAEA/B,EAAAA,4BAA4B,GAAE;AAC5B,UAAM;AAAEmB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAMmC,qBAAqB,GAAGrC,QAAQ,CAACI,OAAT,CAAiB,eAAjB,EAAkCa,SAAlC,CAA4C;AAACC,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAA5C,CAA9B;AACA,SAAKN,QAAL,CAAc;AAAEuB,MAAAA;AAAF,KAAd;AACD;;AAEDC,EAAAA,uBAAuB,GAAE;AACvB,UAAM;AAAEhB,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CADuB,CAEvB;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAWgD,qBAAZ,CAA/B,CAHuB,CAIvB;;AACA,QAAI,CAACb,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD;;AAED9B,EAAAA,gCAAgC,GAAE;AAChC,UAAM;AAAEkB,MAAAA;AAAF,QAAmB,KAAK3B,KAA9B;AACA,UAAMY,QAAQ,GAAG,KAAKZ,KAAL,CAAWW,OAAX,CAAmBE,SAAnB,CAA6B,KAAKb,KAAL,CAAWc,UAAxC,CAAjB;AACA,UAAMqC,yBAAyB,GAAGvC,QAAQ,CAACI,OAAT,CAAiB,oBAAjB,EAAuCa,SAAvC,CAAiD;AAACC,MAAAA,IAAI,EAAEH,YAAY,CAACI,QAAb,CAAsB,CAAtB,CAAP;AAAiCC,MAAAA,KAAK,EAAC;AAAvC,KAAjD,CAAlC;AACA,SAAKN,QAAL,CAAc;AAAEyB,MAAAA;AAAF,KAAd;AACD;;AAEDC,EAAAA,2BAA2B,GAAE;AAC3B,UAAM;AAAElB,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAqC,KAAKnC,KAAL,CAAW2B,YAAtD,CAD2B,CAE3B;;AACA,UAAMS,MAAM,GAAGD,gBAAgB,CAAC,KAAKlC,KAAL,CAAWkD,yBAAZ,CAA/B,CAH2B,CAI3B;;AACA,QAAI,CAACf,MAAL,EAAa,OAAO,IAAP;;AAEb,QAAIF,YAAY,CAACE,MAAD,CAAhB,EAAyB;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAAjC;AACA,aAAOL,YAAY,CAACE,MAAD,CAAZ,CAAqBG,MAA5B;AACA;AACD;;AAIDc,EAAAA,MAAM,GAAE;AAGN,UAAMzC,QAAQ,GAAG,KAAKZ,KAAL,CAAW2B,YAAX,CAAwBd,SAAxB,CAAkC,KAAKb,KAAL,CAAWc,UAA7C,CAAjB;AAEA,UAAMwC,aAAa,GAAG1C,QAAQ,CAAC2C,aAAT,CAAuB,KAAKtD,KAAL,CAAWc,kBAAlC,CAAtB;AACA,UAAMyC,aAAa,GAAG5C,QAAQ,CAAC6C,aAAT,CAAuB,KAAKxD,KAAL,CAAWiB,kBAAlC,CAAtB;AACA,UAAMwC,sBAAsB,GAAG9C,QAAQ,CAAC8C,sBAAT,CAAgC,KAAKzD,KAAL,CAAWmB,2BAA3C,CAA/B;AACA,UAAMuC,kBAAkB,GAAG/C,QAAQ,CAAC+C,kBAAT,CAA4B,KAAK1D,KAAL,CAAWoB,uBAAvC,CAA3B;AAEA,UAAMuC,oBAAoB,GAAGhD,QAAQ,CAACgD,oBAAT,CAA8B,KAAK3D,KAAL,CAAWqB,yBAAzC,CAA7B;AACA,UAAMuC,oBAAoB,GAAGjD,QAAQ,CAACiD,oBAAT,CAA8B,KAAK5D,KAAL,CAAWsB,yBAAzC,CAA7B;AAEA,UAAMuC,oBAAoB,GAAGlD,QAAQ,CAACmD,wBAAT,CAAkC,KAAK9D,KAAL,CAAWuB,yBAA7C,CAA7B;AAEA,QAAIwC,+BAAJ;;AACA,QAAIJ,oBAAoB,IAAIC,oBAA5B,EAAiD;AAEjDG,MAAAA,+BAA+B,GAAGJ,oBAAoB,CAAC5B,KAArB,KAA6B6B,oBAAoB,CAAC7B,KAAlD,IAA2D4B,oBAAoB,CAAC5B,KAArB,KAA+B,4CAA1F,IAA0I6B,oBAAoB,CAAC7B,KAArB,KAA+B,4CAA3M;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAkB0B,+BAA9B;AACC;;AAED,QAAIC,qBAAqB,GAAIL,oBAAoB,IAAI,0CAAwCA,oBAAoB,CAAC5B,KAA7D,GAAmE,IAAxH;AACA,QAAIkC,qBAAqB,GAAIL,oBAAoB,IAAI,0CAAwCA,oBAAoB,CAAC7B,KAA7D,GAAmE,IAAxH;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYsB,oBAAoB,IAAI,UAAQA,oBAAoB,CAAC5B,KAAjE;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYuB,oBAAoB,IAAI,UAAQA,oBAAoB,CAAC7B,KAAjE;AAEA,QAAImC,gBAAJ;;AACA,QAAIT,sBAAsB,IAAIC,kBAA9B,EAAiD;AAC/CtB,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAUoB,sBAAsB,CAAC1B,KAA7C;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAUqB,kBAAkB,CAAC3B,KAAzC;AACA,UAAIoC,YAAY,GAAGC,MAAM,CAACX,sBAAsB,CAAC1B,KAAxB,CAAN,GAAuCqC,MAAM,CAACV,kBAAkB,CAAC3B,KAApB,CAAhE;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAU8B,YAAtB;AACAD,MAAAA,gBAAgB,GAAG,IAAIG,IAAJ,CAASF,YAAY,GAAC,IAAtB,EAA4BG,QAA5B,EAAnB;AACAlC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAO6B,gBAAnB;AACD;;AAGD,QAAIK,OAAJ;AACA,QAAIC,OAAJ;AAEA,UAAMC,KAAK,GAAG9D,QAAQ,CAAC8D,KAAT,CAAe,KAAK1E,KAAL,CAAW2E,OAAX,CAAmBC,UAAlC,CAAd;AACA,UAAMC,KAAK,GAAGjE,QAAQ,CAACiE,KAAT,CAAe,KAAK7E,KAAL,CAAW2E,OAAX,CAAmBG,UAAlC,CAAd;AAEA,UAAMC,aAAa,GAAGnE,QAAQ,CAACmE,aAAT,CAAuB,KAAK9E,KAAL,CAAWkB,kBAAlC,CAAtB;;AAEA,QAAI0D,KAAK,IAAIH,KAAb,EAAmB;AACjBF,MAAAA,OAAO,GAAG,KAAKxE,KAAL,CAAW2B,YAAX,CAAwBI,QAAxB,CAAiC,CAAjC,MAAsC8C,KAAK,CAAC7C,KAAtD;AACAyC,MAAAA,OAAO,GAAG,KAAKzE,KAAL,CAAW2B,YAAX,CAAwBI,QAAxB,CAAiC,CAAjC,MAAsC2C,KAAK,CAAC1C,KAAtD;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYkC,OAAO,GAAC,OAAD,GAASC,OAAO,GAAC,OAAD,GAAS,wBAA5C;AACD;;AAEDpC,IAAAA,OAAO,CAACC,GAAR,CAAYyC,aAAa,IAAI,qBAAqBA,aAAa,CAAC/C,KAAhE;AAEA,QAAIgD,eAAe,GAAG,KAAK/C,kBAAL,EAAtB;AACA,QAAIgD,cAAc,GAAG,KAAKnC,iBAAL,EAArB;AACA,QAAIoC,iBAAiB,GAAG,KAAKzC,oBAAL,EAAxB;AACA,QAAI0C,mBAAmB,GAAG,KAAKnC,sBAAL,EAA1B;AACA,QAAIoC,oBAAoB,GAAG,KAAKlC,uBAAL,EAA3B;AACA,QAAImC,wBAAwB,GAAG,KAAKjC,2BAAL,EAA/B;AAEA,wBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,eAIA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADA,EAGCyB,KAAK,IAAIL,OAAO,KAAG,IAAnB,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA0BlB,aAAa,IAAIA,aAAa,CAACtB,KAAd,KAAsB,IAAvC,GAA4C,MAA5C,GAAmD,aAA7E,4EAAkJ;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAK7B,0BAAzD;AAAqF,MAAA,QAAQ,EAAE6E,eAAe,KAAG,SAAlB,GAA4B,IAA5B,GAAiC,KAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwI,CAACA,eAAD,GAAiB,QAAjB,GAA0BA,eAAe,KAAG,SAAlB,GAA4B,QAA5B,GAAqCA,eAAvM,CAAlJ,CADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAUxB,aAAa,IAAIA,aAAa,CAACxB,KAAd,KAAsB,IAAvC,GAA4C,WAA5C,GAAwD,eAAlE,kBAFA,CAJF,EAUC0C,KAAK,IAAID,OAAO,KAAG,IAAnB,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA0BjB,aAAa,IAAIA,aAAa,CAACxB,KAAd,KAAsB,IAAvC,GAA4C,MAA5C,GAAmD,aAA7E,4EAAkJ;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAK7B,0BAAzD;AAAqF,MAAA,QAAQ,EAAE6E,eAAe,KAAG,SAAlB,GAA4B,IAA5B,GAAkClB,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAArD,IAA6DsB,aAA7D,IAA8EA,aAAa,CAACtB,KAAd,KAAsB,KAArG,GAA4G,IAA5G,GAAiH,KAAjP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyP,CAACgD,eAAD,GAAiB,QAAjB,GAA0BA,eAAe,KAAG,SAAlB,GAA4B,uBAA5B,GAAoDA,eAAvU,CAAlJ,CADA,EAGClB,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAArD,iBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oJAJA,eAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAUsB,aAAa,IAAIA,aAAa,CAACtB,KAAd,KAAsB,IAAvC,GAA4C,WAA5C,GAAwD,eAAlE,kBALA,CAXF,EAmBE+C,aAAa,IAAIA,aAAa,CAAC/C,KAAd,GAAoB,CAArC,IAA0CsB,aAA1C,IAA2DA,aAAa,CAACtB,KAAd,KAAsB,KAAjF,IAA0FwB,aAA1F,IAA2GA,aAAa,CAACxB,KAAd,KAAsB,KAAjI,iBACA;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAKvB,gCAAzD;AAA2F,MAAA,QAAQ,EAAE4E,wBAAwB,KAAG,SAA3B,GAAqC,IAArC,GAA0C,KAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuJ,CAACA,wBAAD,GAA0B,cAA1B,GAAyCA,wBAAwB,KAAG,SAA3B,GAAqC,yBAArC,GAA+DA,wBAA/P,CApBF,EAuBC/B,aAAa,IAAIA,aAAa,CAACtB,KAAd,KAAsB,IAAvC,IAA+CwB,aAA/C,IAAgEA,aAAa,CAACxB,KAAd,KAAsB,IAAtF,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAAyE8B,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAArD,GAA0D,yCAA1D,GAAoG,EAA7K,+CAAwN8B,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAArD,GAA0D,6EAA1D,GAAwI,yDAAhW,uCADA,eAEA;AAAQ,MAAA,SAAS,EAAC,2CAAlB;AAA8D,MAAA,OAAO,EAAE,KAAK3B,sBAA5E;AAAoG,MAAA,QAAQ,EAAE4E,cAAc,KAAG,SAAjB,GAA2B,IAA3B,GAAgC,KAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsJ,CAACA,cAAD,GAAgB,gBAAhB,GAAiCA,cAAc,KAAG,SAAjB,GAA2B,6BAA3B,GAAyDA,cAAhP,CAFA,CAxBF,EA8BC,CAAE3B,aAAa,IAAIA,aAAa,CAACtB,KAAd,KAAsB,IAAxC,IAAkDwB,aAAa,IAAIA,aAAa,CAACxB,KAAd,KAAsB,IAA1F,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wGADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAiC2B,kBAAkB,IAAIU,MAAM,CAACV,kBAAkB,CAAC3B,KAAnB,GAAyB,EAAzB,GAA4B,EAA5B,GAA+B,EAAhC,CAAN,CAA0CsD,OAA1C,CAAkD,CAAlD,CAAvD,iPACA;AAAQ,MAAA,SAAS,EAAC,uBAAlB;AAA0C,MAAA,OAAO,EAAE,KAAK/E,2BAAxD;AAAqF,MAAA,QAAQ,EAAE4E,mBAAmB,KAAG,SAAtB,GAAgC,IAAhC,GAAsCJ,aAAa,IAAIA,aAAa,CAAC/C,KAAd,GAAoB,CAAtC,GAAyC,IAAzC,GAA+C8B,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAAtD,GAA4D,IAA5D,GAAiE,KAAnP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2P,CAACmD,mBAAD,GAAqB,yBAArB,GAA+CA,mBAAmB,KAAG,SAAtB,GAAgC,wBAAhC,GAAyDA,mBAAnW,CADA,CADA,EAGCrB,oBAAoB,IAAIA,oBAAoB,CAAC9B,KAArB,KAA6B,IAArD,iBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAJA,eAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wIALA,CAFF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6IACC6C,KAAK,IAAIL,OAAO,KAAG,IAAnB,KACEZ,oBAAoB,IAAIA,oBAAoB,CAAC5B,KAArB,KAA6B,4CAArD,GAAkG,wCAAlG,gBAA2I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIiC,qBAAJ,CAD7I,CADD,EAICY,KAAK,IAAIJ,OAAO,KAAG,IAAnB,KACIZ,oBAAoB,IAAIA,oBAAoB,CAAC7B,KAArB,KAA6B,4CAArD,GAAkG,wCAAlG,gBAA2I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIkC,qBAAJ,CAD/I,CAJD,2KAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAQI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,SAA/B;AAAyC,MAAA,SAAS,EAAC,cAAnD;AAAkE,oBAAW,gBAA7E;AAA8F,0BAAiB,gBAA/G;AAAgI,MAAA,QAAQ,EAAE,KAAKxB,gCAAL,CAAsCtC,IAAtC,CAA2C,IAA3C,CAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,eASI;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAKE,wBAAzD;AAAmF,MAAA,QAAQ,EAAE4E,iBAAiB,KAAG,SAApB,GAA8B,IAA9B,GAAmC,KAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwI,CAACA,iBAAD,GAAmB,0BAAnB,GAA8CA,iBAAiB,KAAG,SAApB,GAA8B,UAA9B,GAAyCA,iBAA/N,CATJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,EAWKlB,+BAA+B,iBAC9B;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAKxD,4BAAzD;AAAuF,MAAA,QAAQ,EAAE4E,oBAAoB,KAAG,SAAvB,GAAiC,IAAjC,GAAsC,CAACpB,+BAAD,GAAiC,IAAjC,GAAsC,KAA7K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqL,CAACoB,oBAAD,IAAuB,CAACpB,+BAAxB,GAAwD,+CAAxD,GAAwG,CAACoB,oBAAD,IAAuBpB,+BAAvB,GAAuD,4BAAvD,GAAoFoB,oBAAoB,KAAG,SAAvB,GAAiC,6BAAjC,GAA+DA,oBAAhb,CAZN,CAVF,CAFA,eA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8IA5BA,CA/BF,EA8DCL,aAAa,IAAIA,aAAa,CAAC/C,KAAd,GAAoB,CAArC,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kKAA2JmC,gBAA3J,6OADA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGAA4E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kFAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA7D,uBAA5E,CAHA,EAICY,aAAa,IAAIA,aAAa,CAAC/C,KAAd,GAAoB,eAArC,iBACC;AAAQ,MAAA,SAAS,EAAC,2CAAlB;AAA6D,MAAA,OAAO,EAAE,KAAKzB,2BAA3E;AAAwG,MAAA,QAAQ,EAAE4E,mBAAmB,KAAG,SAAtB,GAAgC,IAAhC,GAAqC,KAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+J,CAACA,mBAAD,GAAqB,gBAArB,GAAsCA,mBAAmB,KAAG,SAAtB,GAAgC,6BAAhC,GAA8DA,mBAAnQ,CALF,CA/DF,CAJA,CAFF;AAiFH;;AArT+C;;AA0ThD,eAAetF,iBAAf","sourcesContent":["import React from \"react\";\n\nclass DissolveFunctions extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state ={mediatorAddress:null};\n    this.handleToggleDissolveStatus = this.handleToggleDissolveStatus.bind(this);\n    this.handleDissolveContract = this.handleDissolveContract.bind(this);\n    this.handleSetMediatorAddress = this.handleSetMediatorAddress.bind(this);\n    this.handleForceDissolveContract = this.handleForceDissolveContract.bind(this);\n    this.handleForceDissolveContract2 = this.handleForceDissolveContract2.bind(this);\n    this.handleResetDissolveContractTimer = this.handleResetDissolveContractTimer.bind(this);\n\n  }\n\n\n  componentDidMount() {\n\n     const { drizzle } = this.props;\n     const contract = drizzle.contracts[this.props.contractId];\n\n     const payerDissolveIndex = contract.methods['payerWantsOut'].cacheCall();\n     const payeeDissolveIndex = contract.methods['payeeWantsOut'].cacheCall();\n\n     const timeRemainingIndex = contract.methods['timeRemaining'].cacheCall();\n\n     const forceDissolveStartTimeIndex = contract.methods['forceDissolveStartTime'].cacheCall();\n     const forceDissolveDelayIndex = contract.methods['forceDissolveDelay'].cacheCall();\n\n     const payerMediatorAddressIndex = contract.methods['payerMediatorAddress'].cacheCall();\n     const payeeMediatorAddressIndex = contract.methods['payeeMediatorAddress'].cacheCall();\n\n     const nextPaymentRequestedIndex = contract.methods['paymentNumberToRequested'].cacheCall(this.props.nextPayment);\n\n\n\n    this.setState({payerDissolveIndex, payeeDissolveIndex, timeRemainingIndex, forceDissolveStartTimeIndex, forceDissolveDelayIndex, payerMediatorAddressIndex, payeeMediatorAddressIndex, nextPaymentRequestedIndex});\n  }\n\n  handleToggleDissolveStatus(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdToggleDis = contract.methods['toggleAgreeToDissolve'].cacheSend({from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdToggleDis });\n  }\n\n  getStatusToggleDis(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdToggleDis];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n  handleSetMediatorAddress(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdSetMediator = contract.methods['setMediatorAddress'].cacheSend(this.state.mediatorAddress,{from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdSetMediator });\n  }\n\n  getStatusSetMediator(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdSetMediator];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n  handleChangeMediatorAddressInput(event){\n    this.setState({mediatorAddress:event.target.value})\n    console.log(this.state.mediatorAddress);\n  }\n\n  handleDissolveContract(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdDissolve = contract.methods['dissolve'].cacheSend({from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdDissolve });\n  }\n\n  getStatusDissolve(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdDissolve];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n  handleForceDissolveContract(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdForceDissolve = contract.methods['forceDissolve'].cacheSend({from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdForceDissolve });\n  }\n\n  getStatusForceDissolve(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdForceDissolve];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n  //using same contract call with different event handlers to receive different status for each\n\n  handleForceDissolveContract2(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdForceDissolve2 = contract.methods['forceDissolve'].cacheSend({from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdForceDissolve2 });\n  }\n\n  getStatusForceDissolve2(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdForceDissolve2];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n  handleResetDissolveContractTimer(){\n    const { drizzleState } = this.props;\n    const contract = this.props.drizzle.contracts[this.props.contractId];\n    const stackIdresetForceDissolve = contract.methods['resetForceDissolve'].cacheSend({from: drizzleState.accounts[0], value:0});\n    this.setState({ stackIdresetForceDissolve });\n  }\n\n  getStatusDissolveResetTimer(){\n    const { transactions, transactionStack } = this.props.drizzleState;\n    // get the transaction hash using our saved `stackId`\n    const txHash = transactionStack[this.state.stackIdresetForceDissolve];\n    // if transaction hash does not exist, don't display anything\n    if (!txHash) return null;\n\n    if (transactions[txHash]){\n    console.log(transactions[txHash].status);\n    return transactions[txHash].status;\n   }\n  }\n\n\n\n  render(){\n\n\n    const contract = this.props.drizzleState.contracts[this.props.contractId];\n\n    const payerDissolve = contract.payerWantsOut[this.state.payerDissolveIndex];\n    const payeeDissolve = contract.payeeWantsOut[this.state.payeeDissolveIndex];\n    const forceDissolveStartTime = contract.forceDissolveStartTime[this.state.forceDissolveStartTimeIndex];\n    const forceDissolveDelay = contract.forceDissolveDelay[this.state.forceDissolveDelayIndex];\n\n    const payerMediatorAddress = contract.payerMediatorAddress[this.state.payerMediatorAddressIndex];\n    const payeeMediatorAddress = contract.payeeMediatorAddress[this.state.payeeMediatorAddressIndex];\n\n    const nextPaymentRequested = contract.paymentNumberToRequested[this.state.nextPaymentRequestedIndex];\n\n    let mediatorAddressesMatchButNot0x0;\n    if (payerMediatorAddress && payeeMediatorAddress){\n\n    mediatorAddressesMatchButNot0x0 = payerMediatorAddress.value===payeeMediatorAddress.value && payerMediatorAddress.value !== \"0x0000000000000000000000000000000000000000\" && payeeMediatorAddress.value !== \"0x0000000000000000000000000000000000000000\";\n    console.log(\"MatchButNot0x0 \"+mediatorAddressesMatchButNot0x0);\n    }\n\n    let payerMediatorSentence = (payerMediatorAddress && \" You've set your mediator address to \"+payerMediatorAddress.value+\". \");\n    let payeeMediatorSentence = (payeeMediatorAddress && \" You've set your mediator address to \"+payeeMediatorAddress.value+\". \");\n    console.log(payerMediatorAddress && \"PrMA \"+payerMediatorAddress.value);\n    console.log(payeeMediatorAddress && \"PeMA \"+payeeMediatorAddress.value);\n\n    let timerExpiresDate;\n    if (forceDissolveStartTime && forceDissolveDelay){\n      console.log(\"Start \"+ forceDissolveStartTime.value);\n      console.log(\"Delay \"+ forceDissolveDelay.value);\n      let timerExpires = Number(forceDissolveStartTime.value) + Number(forceDissolveDelay.value);\n      console.log(\"total \"+ timerExpires);\n      timerExpiresDate = new Date(timerExpires*1000).toString();\n      console.log(\"exp \"+timerExpiresDate);\n    }\n\n\n    let isPayer;\n    let isPayee;\n\n    const payee = contract.payee[this.props.indexes.payeeIndex];\n    const payer = contract.payer[this.props.indexes.payerIndex];\n\n    const timeRemaining = contract.timeRemaining[this.state.timeRemainingIndex];\n\n    if (payer || payee){\n      isPayer = this.props.drizzleState.accounts[0]===payer.value;\n      isPayee = this.props.drizzleState.accounts[0]===payee.value;\n      console.log(isPayer?\"Payer\":isPayee?\"Payee\":\"Neither Payer or Payee\");\n    }\n\n    console.log(timeRemaining && \"Time remaining: \" + timeRemaining.value);\n\n    let statusToggleDis = this.getStatusToggleDis();\n    let statusDissolve = this.getStatusDissolve();\n    let statusSetMediator = this.getStatusSetMediator();\n    let statusForceDissolve = this.getStatusForceDissolve();\n    let statusForceDissolve2 = this.getStatusForceDissolve2();\n    let statusDissolveResetTimer = this.getStatusDissolveResetTimer();\n\n    return (\n\n      <div>\n      <br/>\n      <br/>\n      <hr/>\n      <div className=\"container\">\n      <h4>Contract Dissolution</h4>\n\n      {payer && isPayer===true &&\n        <div>\n        <p>You indicate that you {payerDissolve && payerDissolve.value===true?\"want\":\"do not want\"} to dissolve. Click \"switch\" to change your position.  <button className=\"btn btn-sm btn-primary\" onClick={this.handleToggleDissolveStatus} disabled={statusToggleDis===\"pending\"?true:false}>{!statusToggleDis?'Switch':statusToggleDis===\"success\"?'Switch':statusToggleDis}</button></p>\n        <p>Payee {payeeDissolve && payeeDissolve.value===true?\"has moved\":\"has not moved\"} to dissolve.</p>\n        </div>\n      }\n\n      {payee && isPayee===true &&\n        <div>\n        <p>You indicate that you {payeeDissolve && payeeDissolve.value===true?\"want\":\"do not want\"} to dissolve. Click \"switch\" to change your position.  <button className=\"btn btn-sm btn-primary\" onClick={this.handleToggleDissolveStatus} disabled={statusToggleDis===\"pending\"?true:(nextPaymentRequested && nextPaymentRequested.value===true && payerDissolve && payerDissolve.value===false)?true:false}>{!statusToggleDis?'Switch':statusToggleDis===\"success\"?'Success! Switch Again':statusToggleDis}\n        </button></p>\n        {nextPaymentRequested && nextPaymentRequested.value===true &&\n        <p>Note: You cannot move to dissolve if you've already requested the next payment unless the payer has indicated they want to dissolve first.</p>}\n        <p>Payer {payerDissolve && payerDissolve.value===true?\"has moved\":\"has not moved\"} to dissolve.</p>\n        </div>\n      }\n      { timeRemaining && timeRemaining.value>0 && payerDissolve && payerDissolve.value===false && payeeDissolve && payeeDissolve.value===false &&\n        <button className=\"btn btn-sm btn-primary\" onClick={this.handleResetDissolveContractTimer} disabled={statusDissolveResetTimer===\"pending\"?true:false}>{!statusDissolveResetTimer?'Disarm Timer':statusDissolveResetTimer===\"success\"?'Success! Timer Disarmed':statusDissolveResetTimer}</button>\n      }\n\n      {payerDissolve && payerDissolve.value===true && payeeDissolve && payeeDissolve.value===true &&\n        <div>\n        <p>Both parties have indicated that they want to dissolve this contract {nextPaymentRequested && nextPaymentRequested.value===true?\"and the next payment has been requested\":\"\"}. Clicking \"Dissolve\" will immediately {nextPaymentRequested && nextPaymentRequested.value===true?\"transfer the next payment to the payee and the remaining funds to the payer\":\"return all remaining funds in the contract to the payer\"} and this contract will terminate.</p>\n        <button className=\"btn shadow-lg btn-danger btn-sm btn-block\" onClick={this.handleDissolveContract} disabled={statusDissolve===\"pending\"?true:false}>{!statusDissolve?'Force Dissolve':statusDissolve===\"success\"?'Success! Contract Dissolved':statusDissolve}</button>\n        </div>\n      }\n\n      {((payerDissolve && payerDissolve.value===true) || (payeeDissolve && payeeDissolve.value===true)) &&\n        <div>\n        <p>When only one party wants to dissolve the contract there are three possible courses of action:</p>\n        <ul>\n          <li>Convince other party to agree to dissolve the contract.</li>\n          <li>\n          <p>Trigger a cool down timer of {forceDissolveDelay && Number(forceDissolveDelay.value/60/60/24).toFixed(0)} days after which either party can force the dissolution of the contract. If the contract is dissolved using this method the next payment will be split between both parties and the remaining funds transferred to the payer. \n          <button className=\"btn btn-sm btn-danger\" onClick={this.handleForceDissolveContract} disabled={statusForceDissolve===\"pending\"?true:(timeRemaining && timeRemaining.value>0)?true:(nextPaymentRequested && nextPaymentRequested.value===true)?true:false}>{!statusForceDissolve?'Force Dissolve by Timer':statusForceDissolve===\"success\"?'Success! Timer Started':statusForceDissolve}</button></p>\n          {nextPaymentRequested && nextPaymentRequested.value===true &&\n          <p>Note: You cannot force dissolve if you've already requested the next payment.</p>}\n          <p>***The timer can be disabled, even after expiration, if both payer and payee indicate that they want to dissolve the contract.</p>\n\n          </li>\n          <li>Agree to and set a mediator that will receive all remaining contract funds and manage their distribution outside of this contract.\n          {payer && isPayer===true &&\n            (payerMediatorAddress && payerMediatorAddress.value===\"0x0000000000000000000000000000000000000000\"?\" You have not set a mediator address. \":<i>{payerMediatorSentence}</i>)}\n\n          {payer && isPayee===true &&\n              (payeeMediatorAddress && payeeMediatorAddress.value===\"0x0000000000000000000000000000000000000000\"?\" You have not set a mediator address. \":<i>{payeeMediatorSentence}</i>)}\n              If both parties have designated the same mediator address a button allowing either party to force dissolve the contract to a mediator will appear below.\n              <br/>\n              <input type=\"text\" placeholder=\"0x.....\" className=\"form-control\" aria-label=\"Contact Method\" aria-describedby=\"contact-method\" onChange={this.handleChangeMediatorAddressInput.bind(this)}/>\n              <button className=\"btn btn-sm btn-warning\" onClick={this.handleSetMediatorAddress} disabled={statusSetMediator===\"pending\"?true:false}>{!statusSetMediator?'Set New Mediator Address':statusSetMediator===\"success\"?'Success!':statusSetMediator}</button>\n              <br/>\n              {mediatorAddressesMatchButNot0x0 &&\n                <button className=\"btn btn-sm btn-warning\" onClick={this.handleForceDissolveContract2} disabled={statusForceDissolve2===\"pending\"?true:!mediatorAddressesMatchButNot0x0?true:false}>{!statusForceDissolve2&&!mediatorAddressesMatchButNot0x0?'Cannot Dissolve Mediator Addresses Must Match':!statusForceDissolve2&&mediatorAddressesMatchButNot0x0?'Force Dissolve to Mediator':statusForceDissolve2===\"success\"?'Success! Contract Dissolved':statusForceDissolve2}</button>\n              }\n            </li>\n        </ul>\n        <p>Any of the three above options will immediately terminate the contract and transfer all remaining funds to the designated recipient.</p>\n        </div>\n      }\n      {timeRemaining && timeRemaining.value>0 &&\n        <div>\n        <p>The timer to force dissolution of this contract has been triggered! This contract can be dissolved (even if only one party wants to dissolve it) after {timerExpiresDate}.\n        Once the timer has expired either party can click the \"Force Dissolve\" button that will appear below to terminate the contract. This will split the last payment between the two parties and transfer remaining funds back to payer.</p>\n        <p>Note: Timer can be disarmed by clicking the \"Disarm Timer\" button above. <b>The button will ONLY appear if both parties indicate they <i>do not</i> want to dissolve.</b></p>\n        {timeRemaining && timeRemaining.value>100000000000000 &&\n          <button className=\"btn shadow-lg btn-danger btn-sm btn-block\"onClick={this.handleForceDissolveContract} disabled={statusForceDissolve===\"pending\"?true:false}>{!statusForceDissolve?'Force Dissolve':statusForceDissolve===\"success\"?'Success! Contract Dissolved':statusForceDissolve}</button>\n        }\n        </div>\n      }\n      </div>\n      </div>\n    );\n}\n}\n\n\n\nexport default DissolveFunctions;\n"]},"metadata":{},"sourceType":"module"}