{"ast":null,"code":"var _jsxFileName = \"/Users/erick/eth/progpay/client/src/DissolveFunctions.js\";\nimport React from \"react\";\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass DissolveFunctions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const {\n      drizzle\n    } = this.props;\n    const contract = drizzle.contracts.ProgPayETH;\n    const payerDissolveIndex = contract.methods['payerWantsOut'].cacheCall();\n    const payeeDissolveIndex = contract.methods['payeeWantsOut'].cacheCall();\n    /*\n           const paymentIndex = contract.methods[\"paymentNumberToValue\"].cacheCall(i+1);\n           const requestedIndex = contract.methods[\"paymentNumberToRequested\"].cacheCall(i+1);\n           const approvedIndex = contract.methods[\"paymentNumberToApproved\"].cacheCall(i+1);\n    */\n\n    this.setState({\n      payerDissolveIndex,\n      payeeDissolveIndex\n    });\n  }\n\n  render() {\n    const {\n      drizzle,\n      drizzleState\n    } = this.props;\n    const {\n      ProgPayETH\n    } = this.props.drizzleState.contracts;\n    const payerDissolve = ProgPayETH.payerWantsOut[this.state.payerDissolveIndex];\n    const payeeDissolve = ProgPayETH.payeeWantsOut[this.state.payeeDissolveIndex];\n    let isPayer;\n    let isPayee;\n    const payee = ProgPayETH.payee[this.props.indexes.payeeIndex];\n    const payer = ProgPayETH.payer[this.props.indexes.payerIndex];\n\n    if (payer || payee) {\n      isPayer = this.props.drizzleState.accounts[0] === payer.value;\n      isPayee = this.props.drizzleState.accounts[0] === payee.value;\n      console.log(isPayer ? \"Payer\" : isPayee ? \"Payee\" : \"Neither Payer or Payee\");\n    }\n\n    console.log('payer' + isPayer + 'payee' + isPayee);\n    console.log(payerDissolve && \"payer \" + payerDissolve.value);\n    console.log(payeeDissolve && \"payee \" + payeeDissolve.value);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, \"Contract Dissolution Status\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }), payer && isPayer === true && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"Your indicate that you \", payerDissolve && payerDissolve.value === true ? \"want\" : \"do not want\", \" to dissolve.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"Payee \", payeeDissolve && payeeDissolve.value === true ? \"wants\" : \"does not want\", \" to dissolve.\")), payer && isPayee === true && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"Payer \", payerDissolve && payerDissolve.value === true ? \"wants\" : \"does not want\", \" to dissolve.\"));\n  }\n\n}\n\nexport default DissolveFunctions;","map":{"version":3,"sources":["/Users/erick/eth/progpay/client/src/DissolveFunctions.js"],"names":["React","Web3","web3","givenProvider","DissolveFunctions","Component","constructor","props","state","componentDidMount","drizzle","contract","contracts","ProgPayETH","payerDissolveIndex","methods","cacheCall","payeeDissolveIndex","setState","render","drizzleState","payerDissolve","payerWantsOut","payeeDissolve","payeeWantsOut","isPayer","isPayee","payee","indexes","payeeIndex","payer","payerIndex","accounts","value","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Web3 from 'web3';\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass DissolveFunctions extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state ={};\n\n  }\n\n\n  componentDidMount() {\n\n     const { drizzle } = this.props;\n     const contract = drizzle.contracts.ProgPayETH;\n\n     const payerDissolveIndex = contract.methods['payerWantsOut'].cacheCall();\n     const payeeDissolveIndex = contract.methods['payeeWantsOut'].cacheCall();\n\n/*\n       const paymentIndex = contract.methods[\"paymentNumberToValue\"].cacheCall(i+1);\n       const requestedIndex = contract.methods[\"paymentNumberToRequested\"].cacheCall(i+1);\n       const approvedIndex = contract.methods[\"paymentNumberToApproved\"].cacheCall(i+1);\n*/\n\n    this.setState({payerDissolveIndex, payeeDissolveIndex});\n  }\n\n\n\n\n  render(){\n\n    const { drizzle, drizzleState } = this.props;\n    const { ProgPayETH } = this.props.drizzleState.contracts;\n\n    const payerDissolve = ProgPayETH.payerWantsOut[this.state.payerDissolveIndex];\n    const payeeDissolve = ProgPayETH.payeeWantsOut[this.state.payeeDissolveIndex];\n\n    let isPayer;\n    let isPayee;\n\n    const payee = ProgPayETH.payee[this.props.indexes.payeeIndex];\n    const payer = ProgPayETH.payer[this.props.indexes.payerIndex];\n\n    if (payer || payee){\n      isPayer = this.props.drizzleState.accounts[0]===payer.value;\n      isPayee = this.props.drizzleState.accounts[0]===payee.value;\n      console.log(isPayer?\"Payer\":isPayee?\"Payee\":\"Neither Payer or Payee\");\n    }\n\n    console.log('payer'+isPayer+'payee'+isPayee);\n\n    console.log(payerDissolve && \"payer \"+ payerDissolve.value);\n    console.log(payeeDissolve && \"payee \"+payeeDissolve.value);\n\n\n\n    return (\n\n      <div>\n      <br/>\n      <br/>\n      <h4>Contract Dissolution Status</h4>\n      <br/>\n\n      {payer && isPayer===true &&\n        <div>\n        <p>Your indicate that you {payerDissolve && payerDissolve.value===true?\"want\":\"do not want\"} to dissolve.</p>\n        <p>Payee {payeeDissolve && payeeDissolve.value===true?\"wants\":\"does not want\"} to dissolve.</p>\n        </div>\n      }\n\n      {payer && isPayee===true &&\n        <p>Payer {payerDissolve && payerDissolve.value===true?\"wants\":\"does not want\"} to dissolve.</p>\n\n      }\n\n\n      </div>\n    );\n}\n}\n\n\n\nexport default DissolveFunctions;\n"]},"metadata":{},"sourceType":"module"}